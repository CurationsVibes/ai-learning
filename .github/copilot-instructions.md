# AI Agent Instructions for CURATIONS AI Learning

## Project Overview

This is a documentation hub ("AI Ã— Human Cookbook") built with **Astro + Starlight**, deployed to GitHub Pages. The project provides comprehensive frameworks for AI development, covering foundations, RAG systems, agent development, tools/integration, advanced prompting, and business strategies.

**Key fact:** Migrated from BookGen (custom Python generator) to Astro in November 2025. BookGen artifacts remain but are deprecated.

## Build System & Commands

### Active Stack: Astro + Starlight
```bash
npm run dev        # Local dev server with hot reload
npm run build      # Production build (includes astro check for type safety)
npm run preview    # Preview production build locally
```

**Critical:** Always run `npm run build` before PRs to catch TypeScript/MDX errors. The build includes `astro check` which validates content schema.

### Deployment
- **Primary:** GitHub Actions (`.github/workflows/deploy-pages.yml`) auto-deploys on push to `main`
- **Output:** Deployed to `https://curationsla.github.io/ai-learning`
- **Base path:** `/ai-learning` is configured in `astro.config.mjs` - required for GitHub Pages subdirectory hosting

## Content Architecture

### Directory Structure
```
docs/                    # Legacy content (kept in sync)
src/content/docs/        # Active Astro content source (edit here)
  â”œâ”€â”€ cookbooks/         # Main learning content
  â”‚   â”œâ”€â”€ foundations/   # ğŸŒ± Seedling concepts
  â”‚   â”œâ”€â”€ rag/          # RAG & knowledge systems
  â”‚   â”œâ”€â”€ agents/       # Agent development
  â”‚   â”œâ”€â”€ tools/        # MCP, A2A, ecosystems
  â”‚   â”œâ”€â”€ advanced-prompting/  # Meta-prompting, emoji protocol
  â”‚   â”œâ”€â”€ business/     # Brand archaeology, quantum branding
  â”‚   â””â”€â”€ legendary/    # Production deployment, scaling
  â”œâ”€â”€ about-*.md        # Project background
  â””â”€â”€ index.mdx         # Landing page
```

**Important:** Content lives in both `docs/` (legacy) and `src/content/docs/` (active). When editing, modify `src/content/docs/` as the source of truth.

### Navigation Management

**Sidebar config:** Defined in `astro.config.mjs` using Starlight's sidebar structure. Key sections:
- ğŸ  Welcome (about pages, architecture)
- ğŸŒ± Community (CurationsLA, Youth Curator Movement)
- ğŸ“š Cookbooks (autogenerated from `cookbooks/` directory)

**Legacy:** `SUMMARY.md` still exists for BookGen compatibility but is not used by Astro. When adding pages, update the Astro config sidebar, not SUMMARY.md.

## Content Conventions

### Creative Learning Labels (used throughout cookbooks)
- ğŸŒ± **Seedling** â€“ Foundational concepts for beginners
- ğŸŒ¿ **Growing** â€“ Intermediate patterns and practices
- ğŸŒ³ **Flourishing** â€“ Advanced techniques for experts
- ğŸ’¡ **Insight** â€“ Key takeaways and best practices
- âš¡ **Quick Win** â€“ Immediate actionable tips
- ğŸ”¬ **Deep Dive** â€“ Detailed technical explorations

**Usage pattern:** Place label at the start of sections (e.g., `## ğŸŒ± Seedling Concept`). See `src/content/docs/cookbooks/foundations/03-memory-management.md` for reference.

### Markdown/MDX Standards
- **One H1 per page** â€“ Page title only
- **Sequential headings** â€“ Don't skip levels (H2 â†’ H3, not H2 â†’ H4)
- **Relative links** â€“ Use `../foundations/02-model-garden.md` format (not absolute paths)
- **Code blocks** â€“ Always specify language for syntax highlighting
- **Tone** â€“ Instructional, concise, actionable; American English

### Frontmatter Schema
Astro Starlight uses frontmatter defined in `src/content/config.ts` (docsSchema). Common fields:
```yaml
---
title: Page Title
description: Brief description for SEO
---
```

## Project-Specific Patterns

### Dual Content Strategy
The codebase maintains content in TWO locations due to migration:
1. `docs/` â€“ Legacy BookGen format (keep for reference)
2. `src/content/docs/` â€“ Active Astro source

**When creating/editing pages:**
- Edit `src/content/docs/` files
- If maintaining legacy compatibility, sync changes to `docs/` manually
- Most work should focus on `src/content/docs/` going forward

### Cookbook Structure
Each cookbook section follows a progression:
1. **Foundations** (Interoperability â†’ Model Garden â†’ Memory)
2. **RAG** (Fundamentals â†’ Agentic â†’ GraphRAG â†’ Grounding)
3. **Agents** (ADK â†’ Types â†’ Models â†’ Defining LLMs)
4. **Tools** (MCP â†’ A2A â†’ Ecosystems â†’ Engines)
5. **Advanced Prompting** (Context manipulation, meta-prompting, quantum prompting)
6. **Business** (Brand archaeology, schema mastery, creator engines)
7. **Legendary** (Full-stack, production, scaling, future)

**When adding content:** Follow this taxonomy. Place new topics in the appropriate section based on complexity level.

### Brand Context
- **Primary brand:** CURATIONS (creative agency for greater good)
- **Related projects:** CurationsLA (hyperlocal LA media), Youth Curator Movement (education)
- **Philosophy:** Human Ã— AI collaboration, ethical AI, community-centered
- **Avoid:** Commercial hype, generic "AI will change everything" rhetoric

## Development Workflow

### Before Creating Pages
1. Determine correct cookbook section (foundations, rag, agents, tools, etc.)
2. Check existing content for similar topics to avoid duplication
3. Plan heading structure with learning labels (ğŸŒ±/ğŸŒ¿/ğŸŒ³/ğŸ’¡/âš¡/ğŸ”¬)

### When Adding Pages
1. Create file in `src/content/docs/cookbooks/<section>/`
2. Add frontmatter (title, description)
3. Start with single H1, use learning labels for H2 sections
4. Include relative links to related pages
5. Update `astro.config.mjs` sidebar if creating new sections (autogenerate handles files in existing dirs)
6. Run `npm run build` to validate

### Testing Locally
```bash
npm run dev              # Start dev server at http://localhost:4321/ai-learning
# Test navigation, links, search
npm run build            # Verify no type errors
npm run preview          # Test production build locally
```

### Pull Request Checklist
- [ ] Content placed in correct `src/content/docs/` subdirectory
- [ ] Learning labels applied appropriately
- [ ] Relative links validated (no broken links)
- [ ] `npm run build` succeeds with no errors
- [ ] If new section, sidebar config updated in `astro.config.mjs`
- [ ] Preview locally to verify navigation and rendering

## Common Issues & Solutions

### Build Fails with "Unknown collection"
**Cause:** Content placed outside `src/content/docs/` or invalid frontmatter.  
**Fix:** Ensure files are in `src/content/docs/` and frontmatter follows docsSchema.

### Links Break After Deploy
**Cause:** Absolute paths or missing base path.  
**Fix:** Use relative links (`../page.md`) not absolute (`/page.md`). Astro handles base path automatically.

### Sidebar Not Updating
**Cause:** New sections not added to `astro.config.mjs`.  
**Fix:** For new top-level cookbook sections, add to sidebar config. Files in existing `autogenerate` directories appear automatically.

### Search Not Finding New Content
**Cause:** Search indexes on build. Dev server may use cached index.  
**Fix:** Run production build (`npm run build && npm run preview`) to regenerate search index.

## Key Files Reference

- `astro.config.mjs` â€“ Astro configuration, sidebar structure, site metadata
- `package.json` â€“ Dependencies and scripts (Astro 4.16, Starlight 0.28)
- `src/content/config.ts` â€“ Content schema definition (docsSchema)
- `src/styles/custom.css` â€“ Custom styling for CURATIONS brand
- `.github/workflows/deploy-pages.yml` â€“ GitHub Pages deployment automation
- `MIGRATION.md` â€“ Context on BookGen â†’ Astro migration (November 2025)

## Don't Modify Without Explicit Request

- `readme.md` â€“ Landing page with project overview
- `SUMMARY.md` â€“ Legacy BookGen navigation (deprecated but kept for reference)
- `book.json` â€“ Legacy BookGen config (deprecated)
- `.bookgen/*` â€“ Legacy build system (deprecated, kept for historical reference)
- Base path in `astro.config.mjs` (breaks GitHub Pages deployment)
